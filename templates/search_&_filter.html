<form method="GET" action="{{ request.path }}" class="search-form">
    <!-- Search bar -->
    <div class="search-wrapper">
        <input type="text" id="search-input" class="search-input" name="search_query"
               placeholder="Search products..."
               value="{{ request.args.get('search_query','') }}"
               autocomplete="off">
        <button type="submit" class="search-button">
            <!-- SVG icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="bi bi-search" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
            </svg>
        </button>
    </div>

    <!-- Filters dropdown -->
    <div class="filter-menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
             class="bi bi-funnel bar-icon" viewBox="0 0 16 16">
            <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z"/>
        </svg>
        <div class="dropdown">
            <!-- Free shipping filter -->
            <label>
                <input type="checkbox" name="free_shipping" value="1"
                    {% if request.args.get('free_shipping') %} checked {% endif %}
                    onchange="this.form.submit()">
                Free Shipping
            </label>
        </div>
    </div>
</form>
